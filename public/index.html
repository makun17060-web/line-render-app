<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b3a53" />
  <title>ç£¯å±‹ï½œã”æ³¨æ–‡</title>

  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script src="/liff-config.js"></script>

  <style>
    :root{
      --bg:#f6f7f9;
      --card:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;

      --pri:#0b3a53;
      --accent:#b45309;

      --shadow:0 2px 10px rgba(17,24,39,.08);
      --radius:16px;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    .wrap{
      max-width: 720px;
      margin: 0 auto;
      padding: 14px 14px 28px;
    }
    header{ padding: 8px 2px 10px; }
    .title{
      font-size: 18px;
      font-weight: 900;
      margin:0;
    }
    .sub{
      margin:6px 0 0;
      color:var(--muted);
      font-size: 13px;
    }

    .slot{ margin: 10px 0 14px; }

    .grid{
      display:grid;
      gap: 12px;
    }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px;
    }

    .badge{
      font-size: 12px;
      padding: 5px 10px;
      border-radius: 999px;
      font-weight:700;
      margin-right:6px;
    }
    .badgePri{
      background: rgba(11,58,83,.08);
      color: var(--pri);
    }
    .badgeAcc{
      background: rgba(180,83,9,.1);
      color: var(--accent);
    }

    .h{
      margin:8px 0 0;
      font-size: 16px;
      font-weight: 900;
    }
    .p{
      margin:8px 0 0;
      color:var(--muted);
      font-size: 13px;
    }

    .btn{
      width:100%;
      margin-top:12px;
      padding:12px;
      border:none;
      border-radius:14px;
      background: var(--pri);
      color:#fff;
      font-weight:900;
    }

    .promo{
      background:#fff7ed;
      border:1px solid #fdba74;
      color:#7c2d12;
      padding:12px 14px;
      border-radius:14px;
      font-weight:700;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <h1 class="title">æ‰‹é€ ã‚Šãˆã³ã›ã‚“ã¹ã„ ç£¯å±‹</h1>
      <p class="sub">ã”æ³¨æ–‡ã¯ã“ã¡ã‚‰ã‹ã‚‰</p>
    </header>

    <!-- èª˜å°ãƒãƒŠãƒ¼ -->
    <div id="promoSlot" class="slot"></div>

    <div class="grid">

      <!-- åˆã‚ã¦ã‚»ãƒƒãƒˆ -->
      <div class="card" id="trialCard">
        <span class="badge badgeAcc">åˆã‚ã¦ã®æ–¹</span>
        <h2 class="h">åˆã‚ã¦ã‚»ãƒƒãƒˆ</h2>
        <p class="p">ã¾ãšã¯ãŠè©¦ã—ã§</p>
        <button class="btn" onclick="location.href='/fukubako.html'">
          è¦‹ã‚‹
        </button>
      </div>

      <!-- ã‚ªãƒªã‚¸ãƒŠãƒ« -->
      <div class="card" id="originalCard">
        <span class="badge badgePri">äººæ°—No.1</span>
        <h2 class="h">ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚»ãƒƒãƒˆ</h2>
        <p class="p">è¿·ã£ãŸã‚‰ã“ã‚Œï¼ˆãƒãƒ©ãƒ³ã‚¹æœ€å¼·ï¼‰</p>
        <button class="btn" onclick="location.href='/original-set.html'">
          ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚’è¦‹ã‚‹
        </button>
      </div>

    </div>
  </div>

  <script>
  (async () => {
    try {
      const res = await fetch("/api/public/settings", { cache: "no-store" });
      const data = await res.json();

      if (data && data.trial_enabled === false) {

        // åˆã‚ã¦ã‚»ãƒƒãƒˆéè¡¨ç¤º
        const trial = document.getElementById("trialCard");
        if (trial) trial.style.display = "none";

        // ğŸ”¥ æ–‡è¨€å¤‰æ›´æ¸ˆã¿ï¼ˆã“ã“é‡è¦ï¼‰
        const slot = document.getElementById("promoSlot");
        if (slot) {
          slot.innerHTML = `
            <div class="promo">
              ä»Šã¯ <span style="text-decoration:underline;">ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚»ãƒƒãƒˆ</span> ã‚’ä¸­å¿ƒã«ã”æ¡ˆå†…ã—ã¦ã„ã¾ã™ğŸ‘‡
              <button class="btn" id="goOriginalBtn">ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚»ãƒƒãƒˆã‚’è¦‹ã‚‹</button>
            </div>
          `;
        }

        // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«èª˜å°
        document.getElementById("goOriginalBtn")?.addEventListener("click", () => {
          const el = document.getElementById("originalCard");
          if (el) el.scrollIntoView({ behavior: "smooth" });
        });
      }

    } catch (e) {
      console.error(e);
    }
  })();
  </script>
</body>
</html>