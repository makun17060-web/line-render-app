<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>é€æ–™è¨ˆç®—ï¼ˆãƒ¤ãƒãƒˆé‹è¼¸å‚è€ƒï½œã‚µã‚¤ã‚ºè‡ªå‹•åˆ‡æ›¿ï¼‰</title>
  <style>
    body{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:#f7f7f7;margin:0;padding:14px}
    h1{font-size:20px;margin:0 0 10px}
    .card{background:#fff;border-radius:14px;padding:14px;box-shadow:0 1px 3px rgba(0,0,0,.08);margin-bottom:12px}
    label{font-weight:800;display:block;margin:10px 0 4px}
    select,input{width:100%;padding:10px;border-radius:10px;border:1px solid #ddd;font-size:15px}
    table{width:100%;border-collapse:collapse;margin-top:10px;font-size:14px}
    th,td{padding:8px;border-bottom:1px solid #eee}
    th{text-align:left;background:#f1f5f9}
    .right{text-align:right;font-weight:800}
    .result{font-size:18px;font-weight:900;color:#0b3a53;text-align:right;margin-top:10px}
    .pill{display:inline-block;background:#eef2ff;color:#0b3a53;border-radius:999px;padding:6px 10px;font-weight:800;font-size:12px;margin-right:6px}
    .note{font-size:12px;color:#666;line-height:1.6}
  </style>
</head>
<body>

<h1>ğŸ“¦ é€æ–™è¨ˆç®—ï¼ˆã‚µã‚¤ã‚ºè‡ªå‹•åˆ‡æ›¿ï¼‰</h1>

<div class="card">
  <label>å•†å“</label>
  <select id="product"></select>

  <label>å€‹æ•°</label>
  <input type="number" id="qty" value="1" min="1">

  <label>é€ä»˜å…ˆåœ°åŸŸ</label>
  <select id="region"></select>
</div>

<div class="card">
  <div style="margin-bottom:6px">
    <span class="pill" id="sizePill">ã‚µã‚¤ã‚ºï¼š-</span>
    <span class="pill">ãƒ¤ãƒãƒˆé‹è¼¸ å‚è€ƒ</span>
  </div>

  <table>
    <tr><th>å†…å®¹</th><th class="right">é‡‘é¡</th></tr>
    <tr><td>å•†å“åˆè¨ˆ</td><td class="right" id="itemTotal">-</td></tr>
    <tr><td>é€æ–™</td><td class="right" id="shippingFee">-</td></tr>
  </table>

  <div class="result">
    åˆè¨ˆï¼š<span id="grandTotal">-</span>
  </div>

  <p class="note">
    â€» å€‹æ•°ã«ã‚ˆã‚Šã‚µã‚¤ã‚ºãŒè‡ªå‹•ã§åˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚<br>
    â€» é€æ–™ã¯ãƒ¤ãƒãƒˆé‹è¼¸ï¼ˆ60/80ã‚µã‚¤ã‚ºï¼‰ã‚’å‚è€ƒã«ã—ãŸç›®å®‰ã§ã™ã€‚<br>
    â€» æ­£ç¢ºãªé€æ–™ã¯æ³¨æ–‡ç¢ºå®šç”»é¢ã§æœ€çµ‚è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
  </p>
</div>

<script>
/* ======================
   å•†å“ãƒã‚¹ã‚¿ãƒ¼
   set:true â†’ å¸¸ã«80ã‚µã‚¤ã‚º
====================== */
const PRODUCTS = [
  { id:"kusuke-250", name:"ä¹…åŠ©ï¼ˆãˆã³ã›ã‚“ï¼‰", price:250 },
  { id:"nori-akasha-340", name:"ã®ã‚Šã‚ã‹ã—ã‚ƒ", price:340 },
  { id:"uzu-akasha-340", name:"ã†ãšã‚ã‹ã—ã‚ƒ", price:340 },
  { id:"shio-akasha-340", name:"æ½®ã‚ã‹ã—ã‚ƒ", price:340 },
  { id:"matsu-akasha-340", name:"æ¾ã‚ã‹ã—ã‚ƒ", price:340 },
  { id:"iso-akasha-340", name:"ç£¯ã‚ã‹ã—ã‚ƒ", price:340 },
  { id:"goma-akasha-340", name:"ã”ã¾ã‚ã‹ã—ã‚ƒ", price:340 },
  { id:"original-set-2000", name:"ç£¯å±‹ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚»ãƒƒãƒˆ", price:2000, set:true }
];

/* ======================
   ãƒ¤ãƒãƒˆå‚è€ƒé€æ–™
====================== */
const SHIPPING_60 = {
  "åŒ—æµ·é“":1200,"æ±åŒ—":900,"é–¢æ±":800,"ä¿¡è¶Š":800,"åŒ—é™¸":800,"ä¸­éƒ¨":800,
  "é–¢è¥¿":850,"ä¸­å›½":950,"å››å›½":950,"ä¹å·":1100,"æ²–ç¸„":1400
};
const SHIPPING_80 = {
  "åŒ—æµ·é“":1400,"æ±åŒ—":1100,"é–¢æ±":1000,"ä¿¡è¶Š":1000,"åŒ—é™¸":1000,"ä¸­éƒ¨":1000,
  "é–¢è¥¿":1050,"ä¸­å›½":1150,"å››å›½":1150,"ä¹å·":1300,"æ²–ç¸„":1800
};

/* ======================
   ã‚µã‚¤ã‚ºåˆ¤å®šãƒ«ãƒ¼ãƒ«
   - ã‚»ãƒƒãƒˆå•†å“ï¼š80
   - 1ã€œ4å€‹ï¼š60
   - 5å€‹ä»¥ä¸Šï¼š80
====================== */
function detectSize(product, qty){
  if (product.set) return 80;
  return qty >= 5 ? 80 : 60;
}

/* ======================
   åˆæœŸåŒ–
====================== */
const productSel = document.getElementById("product");
const regionSel  = document.getElementById("region");
const qtyInput   = document.getElementById("qty");

PRODUCTS.forEach(p=>{
  const o=document.createElement("option");
  o.value=p.id;
  o.textContent=`${p.name}ï¼ˆ${p.price}å††ï¼‰`;
  productSel.appendChild(o);
});
Object.keys(SHIPPING_60).forEach(r=>{
  const o=document.createElement("option");
  o.value=r; o.textContent=r; regionSel.appendChild(o);
});

productSel.onchange = calc;
regionSel.onchange  = calc;
qtyInput.oninput    = calc;
calc();

/* ======================
   è¨ˆç®—
====================== */
function calc(){
  const p = PRODUCTS.find(x=>x.id===productSel.value);
  const qty = Math.max(1, Number(qtyInput.value||1));
  const region = regionSel.value;

  const itemTotal = p.price * qty;
  const size = detectSize(p, qty);
  const shipping = (size===80 ? SHIPPING_80 : SHIPPING_60)[region] || 0;
  const grand = itemTotal + shipping;

  document.getElementById("sizePill").textContent = `ã‚µã‚¤ã‚ºï¼š${size}`;
  document.getElementById("itemTotal").textContent = itemTotal.toLocaleString()+"å††";
  document.getElementById("shippingFee").textContent = shipping.toLocaleString()+"å††";
  document.getElementById("grandTotal").textContent = grand.toLocaleString()+"å††";
}
</script>

</body>
</html>
